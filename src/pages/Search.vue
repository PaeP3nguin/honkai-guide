<template>
  <v-container>
    <v-layout>
      <v-flex xs12 md10>
        <h1>Bilibili search generator</h1>
        <p>
          Some of the Chinese translations courtsey of
          <a href="https://youtu.be/0RR5VR99fvk">The Keebster</a>
          and their excellent
          <a
            href="https://docs.google.com/document/d/1PPZJ4s91tmEBh0Q6J26wbnFapCMioxShS0JhXPtZ4ec/edit"
          >
            Chinese Memorial Glossary
          </a>
          .
        </p>
        <p>
          <b>Psst!</b>
          Do you use
          <a href="http://www.3rdguide.com/web/teamnew/index">3rd guide</a>
          ? Want to open team comps in a new tab? Drag this (
          <!-- This is a minified version of the 3rdguide.user.js file with https://jscompress.com/  -->
          <!-- Remove the trailing ; from the minified js, then paste the entire minified js inside parenthesis of: javascript:() -->
          <a
            href='javascript:(!function(){"use strict";function e(){var e=$(".filter-text > input").val();$(".filter-text > input").val("è¶…å¼¦ç©ºé—´"===e?"Abyss":"MA"),$("th, span, .table-search, .label, .title").each(function(){var e,a;e=i,(a=this)&&e[a.innerText]&&(a.innerHTML=a.innerHTML.replace(a.innerText,e[a.innerText]))}),$(".table-team-box .table-search").height(600),$(".table-search .goodwar .content").height(500)}$("#ct_det tbody").off().on("click","tr",function(){var e=$(this).find(".tgcol0").data("url");null!=e&&window.open(e,"_blank")});var i={"è®°å¿†æˆ˜åœº":"Memorial Arena","æˆ˜åŒº:":"Bracket","SSSéš¾åº¦":"SSS Difficulty","ç»ˆæžæˆ˜åŒº":"Exalted","é«˜çº§æˆ˜åŒº":"Masters","å¼ºæ•Œ:":"Bosses","å¥³æ­¦ç¥ž:":"Valkyries","é˜µå®¹":"Line-up","å¾—åˆ†":"Score","é€ ä»·":"Cost","æ“ä½œéš¾åº¦":"Difficulty","å¥½è¯„æ•°":"Likes","åˆ›å»ºæ—¶é—´":"Date","è¶…å¼¦ç©ºé—´":"Superstring","æ‰°åŠ¨å¹…åº¦":"Disturbance","æ‰˜çº³æä¹ŒÂ·å™¬æ—¥ä¹‹å½±":"Tonatiuh","æ‰˜çº³æä¹Œ-å™¬æ—¥ä¹‹å½±":"Tonatiuh","å¥”ç‹¼çš„é¢†ä¸»":"Andrius","ç¥¸æ–—":"Huodou","å¼å§†çŽ‹":"Homu Emperor","ç»¯ç‹±ä¸¸":"Hellmaru","æµ·å§†è¾¾å°”":"Heimdall","æ¹®ç­æ²‰çµ":"Doom","æ•™çˆ¶å†›å›¢":"Padrino Legion","ç‰¹é‡Œæ³¢å¡":"Mexicatl","è´çº³å‹’æ–¯":"Benares","å§¬éºŸÂ·é»‘":"DJXY","MHT-3å’Œå¹³ä½¿è€…":"MHT-3 Pax","MHT-3 å’Œå¹³ä½¿è€…":"MHT-3 Pax","MHT-3B å¤©å ‚ä½¿è€…":"MHT-3B Nirvana","é˜¿æ¹¿æ³¢":"Assaka","åœ°è—å¾¡é­‚":"Jizo Mitama","èµ«è²æ–¯æ‰˜æ–¯":"Hephaestus ","å¸•å‡¡æ":"Parvati","è¢«è¯…å’’çš„è‹±é­‚":"Cursed Soul","ç§‘äºšç‰¹å°”-å¤ç”Ÿä¹‹å½±":"Couatl","æ·±æ¸Šç»ˆæžåŒº":"Couatl","å…«é‡éœž":"Kasumi","é™¨å†°ä¹‹å¾‹è€…":"Rimestar","è™šæ ‘ç¥žéª¸-è™šæ— ä¸»ä¹‰":"Husk Nihilius","æ”¯é…ä¹‹å¾‹è€…-ä¹Œåˆä¹‹ä¼—":"Herrscher of Domination","ä¼ªç¥žÂ·å¥¥æ‰˜":"False God Otto","ä¼ªç¥žå¥¥æ‰˜":"False God Otto","é€ç«åä¸‰è‹±æ¡€Â·ç§‘æ–¯é­”":"Flame-Chaser Kosma","è™šæ ‘ç¥žéª¸-ç¥žç§˜ä¸»ä¹‰":"Husk Mysticism","è™šæ•°ç¥žéª¸Â·ç¥žç§˜ä¸»ä¹‰":"Husk Mysticism","è™šæ ‘ç¥žéª¸-å­˜åœ¨ä¸»ä¹‰":"Husk Existentialism","æ¯•èˆé®":"Pishacha","é€ç«åä¸‰è‹±æ¡€ é˜¿æ³¢å°¼äºš":"Flame-Chaser Aponia","å¡”ä¹‹é’³æ¢":"Wardens of Tower","æ®‰æ­»ä¹‹å…½":"Beast of Sacrifice","è–‡å¡”-ã€Œæµ·çš„æ·±æ¸Šã€":"Vita - Sea&#39;s Depths","æ„¿ä¹‹èŠ½-å…¨çŸ¥çš„ç¾½ç¿¼":"Sprout of Wishing","ç“¦æ‹‰å“ˆ":"Valrahal","é™¨æ˜Ÿ-å¥ˆåŸƒå°”":"Epernay","é€ç«åä¸‰è‹±æ¡€ æ¢…æ¯”ä¹Œæ–¯":"Flame-Chaser Mobius","é™¨æ˜Ÿ-ç“œä¼Šé©¬æ–¯":"Guaymas","å¼‚æ˜Ÿè‚ƒå«-è¡¥é˜™":"Alien Guard","ã€Œæˆ’ä¸–é—å…‰ã€":"Bygone Deliverance","å¨‘-ã€Œè½®è½¬æ— æˆ‘ã€":"Sa: Wheel of Transcendence","æ®µä½:":"Rank","åŽŸç½ª":"Sinful","ç¦å¿Œ":"Forbidden","è‹¦ç—›":"Agony","çº¢èŽ²":"Redlotus","å¯‚ç­":"Nirvana","å¤©æ°”:":"Weather","æé›·":"Lightning","æ€¯ç«":"Fire","æƒ§å†°":"Ice","é‡å­":"Quantum","ç•è¡€":"Physical","ç‹™å‡»":"Ranged","å¤©æ•Œ":"Counter","ç‡ƒç´ ":"Ignite","æˆ˜æ„":"Bloodlust","è™šæ•°":"Imaginary","åšé˜µ":"Fortified","é›·åŠ«":"Paralyze","ç™½åˆƒ":"Melee","è¡€æ£˜":"Bleed","å†°ç»“":"Freeze","åå¥":"Concerto","ç»Ÿå¾¡":"Summons","æ˜Ÿå°˜":"Stardust","å¤±è¡¡":"Stun","é—ªè€€":"Stellar","é»¯ç­":"Starless","æ˜Ÿå†•":"Stellar Crown","å…±é¸£":"Resonance","å¹»ç­":"Shadow Star","æ˜“ä½":"Ascension","åŒºåŸŸ:":"Stage","è¾¹ç¼˜åŒº":"Fringe (first)","å¯†é›†åŒº":"Intensive (second)","é«˜å±åŒº":"Perilous (boss)","ç‰¹å¼‚åŒº":"Singular (side)","å¼å§†é­”æœ¯å¸ˆ":"Homu Magician","è™šæ ‘ç¥žéª¸-è™šæ— ä¸»ä¹‰II":"Husk Nihilius (hit count)","ç¥žæœº-æµ·å§†è¾¾å°”":"Heimdall","å¨‘å©† é˜¿æ¹¿æ³¢":"Saha Assaka","å©†å¨‘é˜¿æ¹¿æ³¢":"Saha Assaka","ç¾¤æ€ª":"Mobs","é€ç«åä¸‰è‹±æ¡€ çˆ±èŽ‰å¸Œé›…":"Flame-Chaser Elysia","ä¾µèš€ä¹‹å¾‹è€…":"Herrscher of Corruption","é€ç«åä¸‰è‹±æ¡€ ç§‘æ–¯é­”":"Flame-Chaser Kosma","é»‘ä¹‹èµæ­»ã€ç™½ä¹‹æ‚¬å‰‘":"Wardens of Tower","æ¸¡é¸¦":"Raven","è”½å…‰ä¹‹å½±":"Opaque Shadow","å¥¥æ‰˜Â·é˜¿æ³¢å¡åˆ©æ–¯":"Otto Apocalypse","é€ç«åä¸‰è‹±æ¡€Â·åƒåŠ«":"Flame-Chaser Kalpas","è´çº³å‹’æ–¯Â·å†°å½¢æ€":"Benares Ice","å†°ä¹‹å¾‹è€…":"Herrscher of Ice","ç¾¤èšæ•Œäºº":"Swarm","æœºæ¢°":"MECH","ç”Ÿç‰©":"BIO","èƒ½":"PSY","ç”Ÿç‰©ã€å¼‚èƒ½":"BIO, PSY","è¿¦å°¼è¨":"Ganesha","é€ç«åä¸‰è‹±æ¡€Â·ç»´å°”è–‡":"Flame-Chaser Vill-V","å¼‚ç§Â·å·¡è¡Œçº§å´©åå…½":"PSY: Patroller","å¼‚èƒ½":"Elite","ç£å†›çº§å´©åå…½":"Honkai Emperor","æ˜†å·´å¡çº³":"Kumbhakarna","ç†”ç‚Žå¸çŽ‹":"Flame Emperor","é‡äº§åž‹æ•™çˆ¶":"Eldjotunar","æ—‹è‚¢ä¹‹å½±":"Spinning Shadow","ç‰¹é‡Œæ³¢å¡-æ··æ²Œä¹‹å½±":"Photophobic Shadow","æœºæ¢°ã€å¼‚èƒ½":"MECH, PSY","æœºæ¢°ã€ç”Ÿç‰©":"MECH, BIO","å¼‚èƒ½ã€æœºæ¢°":"PSY, MECH","å’Œå¹³ä½¿è€…":"Nirvana","å¼‚èƒ½ã€ç”Ÿç‰©":"PSY, BIO","ç”Ÿç‰©ã€å¼‚èƒ½ã€æœºæ¢°":"BIO, PSY, MECH","ç”Ÿç‰©ã€æœºæ¢°":"BIO, MECH","è™šæ•°ã€å¼‚èƒ½":"IMG, PSY","é›·ç¥žçº§å´©åå…½":"Storm Templar","æ­»äº¡ç¼–ç»‡è€…":"Death Web","ç…Œå¤œéª‘å£«":"Nocturnal Knight","å·¡èˆªå®¡åˆ¤å›¢":"Cruising Tribunal","ã€Œä¸šé­”ã€å‡¯æ–‡":"Diabolic Kevin","é£žé±¼ï¼šæ¸¸å¼‹é›†ç¾¤":"Flying Fish: Patrol Force","é™¨æ˜Ÿ-å¥ˆæŒ¨å°”":"Epernay","MHT-3C æƒ©æˆ’ä½¿è€…":"MHT-3C Retaliator","å¯’å†°å¸çŽ‹":"Frost Emperor","ç¬¦åŽ":"Fu Hua","è¯†ä¹‹å¾‹è€…":"Herrscher of Sentience","äº‘å¢¨ä¸¹å¿ƒ":"Azure Empyrea","é›¾éƒ½è¿…ç¾½":"Hawk of the Fog","ç™½å¤œæ‰§äº‹":"Night Squire","ç‚½ç¿Ž":"Phoenix","å½±éª‘å£«Â·æœˆè½®":"Shadow Knight","å¥³æ­¦ç¥žÂ·è¿…ç¾½":"Valkyrie Accipiter","æµ®ç”ŸÂ·æ¸¡å°˜ä¹‹ç¾½":"Fenghuang of Vicissitude","æ˜Žæ—¥é¦™":"Asuka","å…«é‡æ¨±":"Yae Sakura","å¤œéšé‡éœž":"Darkbolt Jonin","çœŸç‚Žå¹¸é­‚":"Flame Sakitama","é€†ç¥žå·«å¥³":"Gyakushinn Miko","å¾¡ç¥žè£…Â·å‹¿å¿˜":"Goushinnso Memento","å¸Œå„¿Â·èŠ™ä¹è‰¾":"Seele","é­‡å¤œæ˜Ÿæ¸Š":"Starchasm Nyx","å½¼å²¸åŒç”Ÿ":"Stygian Nymph","å¹»æµ·æ¢¦è¶":"Swallowtail Phantasm","æ­»ç”Ÿä¹‹å¾‹è€…":"Herrscher of Rebirth","å¹½å…°é»›å°”":"Durandal","å¥³æ­¦ç¥žÂ·è£å…‰":"Valkyrie Gloria","è¾‰éª‘å£«Â·æœˆé­„":"Bright Knight: Excelsis","ä¸ç­æ˜Ÿé”š":"Dea Anchora","å¤©å…ƒéª‘è‹±":"Palatinus Equinox","å¾·ä¸½èŽŽ":"Theresa","æš®å…‰éª‘å£«Â·æœˆç…Œ":"Twilight Paladin","æœˆä¸‹åˆæ‹¥":"Luna Kindred","ç¥žæ©é¢‚æ­Œ":"Celestial Hymn","å¤„åˆ‘è£…Â·ç´«è‹‘":"Violet Executer","æ¨±ç«è½®èˆž":"Sakura Rondo","å¥³æ­¦ç¥žÂ·èª“çº¦":"Valkyrie Pledge","æœ”å¤œè§‚æ˜Ÿ":"Starlit Astrologos","æœˆä¸‹èª“çº¦Â·äºˆçˆ±ä»¥å¿ƒ":"Lunar Vow: Crimson Love","çªäºšå¨œ":"Kiana","è–ªç‚Žä¹‹å¾‹è€…":"Herrscher of Flamescion","å¤©ç©¹æ¸¸ä¾ ":"Void Ranger","ç©ºä¹‹å¾‹è€…":"Herrscher of the Void","åœ£å¥³ç¥ˆç¥·":"Divine Prayer","å¥³æ­¦ç¥žÂ·æ¸¸ä¾ ":"Valkyrie Ranger","ç™½éª‘å£«Â·æœˆå…‰":"Knight Moonbeam","é¢†åŸŸè£…Â·ç™½ç»ƒ":"White Comet","ç»ˆç„‰ä¹‹å¾‹è€…":"Herrscher of Finality","å¸ƒæ´›å¦®å¨…":"Bronya","è¿·åŸŽéª‡å…”":"Haxxor Bunny","ç†ä¹‹å¾‹è€…":"Herrscher of Reason","å½—æ˜Ÿé©±åŠ¨":"Drive Kometa","å¼‚åº¦é»‘æ ¸ä¾µèš€":"Black Nucleus","é“¶ç‹¼çš„é»Žæ˜Ž":"Wolfs Dawn","æ¬¡å…ƒè¾¹ç•Œçªç ´":"Dimension Breaker","å¥³æ­¦ç¥žÂ·æˆ˜è½¦":"Valkyrie Chariot","é©±åŠ¨è£…Â·å±±å¹":"Yamabuki Armor","é›ªåœ°ç‹™å‡»":"Snowy Sniper","æ¬¡ç”Ÿé“¶ç¿¼":"Silverwing: N-EX","çœŸç†ä¹‹å¾‹è€…":"Herrscher of Truth","é˜¿ç³å§å¦¹":"Olenyevas","ç‹‚çƒ­è“è°ƒÎ”":"Fervent Tempo Delta","æ¨±æ¡ƒç‚¸å¼¹":"Molotov Cherry","è“èŽ“ç‰¹æ”»":"Blueberry Blitz","èŠ½è¡£":"Mei","æ–­ç½ªå½±èˆž":"Danzai Spectramancer","é›·ä¹‹å¾‹è€…":"Herrscher of Thunder","ç ´æ™“å¼ºè¢­":"Striker Fulminata","é›·ç”µå¥³çŽ‹çš„é¬¼é“ ":"Lightning Empress","è„‰å†²è£…Â·ç»¯çº¢":"Crimson Impulse","å¥³æ­¦ç¥žÂ·å¼ºè¢­":"Valkyrie Bladestrike","å½±èˆžå†²å‡»":"Shadow Dash","å§‹æºä¹‹å¾‹è€…":"Herrscher of Origin","ä¸½å¡”":"Rita","å¤±è½è¿·è¿­":"Fallen Rosemary","è‹éª‘å£«Â·æœˆé­‚":"Argent Knight: Artemis","çŒŽè¢­è£…Â·å½±é“":"Phantom Iron","é»¯è”·è–‡":"Umbral Rose","ç¼­ä¹±æ˜Ÿæ£˜":"Spina Astera","å§¬å­":"Himeko","çœŸçº¢éª‘å£«Â·æœˆèš€":"Vermilion Knight: Eclipse","æžåœ°æˆ˜åˆƒ":"Arctic Kriegsmesser","èžæ ¸è£…Â·æ·±çº¢":"Scarlet Fusion","æˆ˜åœºç–¾é£Ž":"Battle Storm","å¥³æ­¦ç¥žÂ·å‡¯æ—‹":"Valkyrie Triumph","è¡€è‰²çŽ«ç‘°":"Blood Rose","å¡èŽ²":"Kallen","åŽŸç½ªçŒŽäºº":"Sundenjager","ç¬¬å…­å¤œæƒ³æ›²":"Sixth Serenade","åœ£ä»ªè£…Â·ä»Šæ ·":"Imayoh Ritual","è²è°¢å°”":"Fischl","æ–­ç½ªçš‡å¥³ï¼ï¼":"Prinzessin der Verurteilung!","çˆ±èŽ‰å¸Œé›…":"Elysia","ç²‰è‰²å¦–ç²¾å°å§â™ª":"Miss Pink Elf","çœŸæˆ‘Â·äººä¹‹å¾‹è€…":"Herrscher of Human: Ego","å¨œå¡”èŽŽÂ·å¸Œå¥¥æ‹‰":"Raven","åˆå¤œè‹¦è‰¾":"Midnight Absinthe","æ¢…æ¯”ä¹Œæ–¯":"Mobius","æ— é™Â·å™¬ç•Œä¹‹è›‡":"Infinite Ouroboros","å¡èå°”Â·ä½©ç€":"Carole Pepper","ç”œè¾£å¥³å­©":"Sweet n Spicy","å¸•æœµè²èŽ‰ä¸":"Pardofelis","ç©ºæ¢¦Â·æŽ é›†ä¹‹å…½":"Reverist Calico","é˜¿æ³¢å°¼äºš":"Aponia","æˆ’å¾‹Â·æ·±ç½ªä¹‹æ§›":"Disciplinary Perdition","ä¼Šç”¸":"Eden","é»„é‡‘Â·ç’€è€€ä¹‹æ­Œ":"Golden Diva","æ ¼è•¾ä¿®":"Griseo","ç¹æ˜ŸÂ·ç»˜ä¸–ä¹‹å·":"Starry Impression","å¤©è¡ŒÂ·ç»˜æ˜Ÿä¹‹å·":"Cosmic Expression","ç»´å°”è–‡":"Vill-V","èžºæ—‹Â·æ„šæˆä¹‹åŒ£":"Helical Contraption","æŽç´ è£³":"Li Sushang","çŽ‰éª‘å£«Â·æœˆç—•":"Jade Knight","çˆ±è¡£Â·ä¼‘ä¼¯åˆ©å®‰Î›":"Ai","æ—¶å¸†æ—…äºº":"Chrono Navi","è‹èŽŽå¨œ":"Susannah","å¥³æ­¦ç¥žÂ·çƒ­ç ‚":"Valkyrie Quicksand","ç±³ä¸å¿’ç³Â·æ²™å°¼äºšç‰¹":"Misteln","ç»‡ç¾½æ¢¦æ—Œ":"Dreamweaver","æ™®ç½—ç±³ä¿®æ–¯":"PROMETHEUS","ç»ˆæœ«åç†0017":"Terminal Aide 0017","æ—¶é›¨ç»®ç½—":"Shigure Kira","ç³–éœ²æ˜Ÿéœœ":"Sugary Starburst","è¥¿ç³":"Sirin","å¥‡è¿¹â˜†é­”æ³•å°‘å¥³":"Miracle â˜† Magic Girl","ç§‘æ‹‰èŽ‰Â·6626Â·æ™®æœ—å…‹":"Coralie","å¥³æ­¦ç¥žÂ·é‡æœº":"Valkyrie Blastmetal","åŸƒå°”å¾·ä»€Â·èµ«ä¸½å¨…":"Helia","å¥³æ­¦ç¥žÂ·å·¡çŸ¢":"Valkyrie Boltstorm","å¸Œå¨œç‹„é›…":"Senadina","æ·±ç©ºå®šé”šÂ·æ›™å…‰":"Deepspace Anchor: First Light","ç‘ŸèŽ‰å§†":"Thelema","äº«ä¹ç‹‚å®´Â·é‚€å½±":"Mad Pleasure: Shadowbringer","ç¯":"&#39;Lantern&#39;","ç ´å¼ƒå­¤å…‰Â·é€å½±":"Lone Destruction: Shadowchaser","æ¾é›€":"Songque","çž’å¤©ä¹æ¸¸Â·æ›™å½±":"Jovial Deception: Shadowdimmer","å¾·ä¸½èŽŽï¼ˆé“¾åˆƒï¼‰":"Theresa (Chained Blades)","å¤©å‘½éš¾é€ƒ":"Shicksal&#39;s Imperative","è–‡å¡”":"Vita","å­‘é—åƒæ˜Ÿ":"Lone Planetfarer","èŠ±ç«":"Sparkle","è¯¡æˆåƒå½¹ã€Œå‹æƒ…å‡ºæ¼”ï¼ã€":"Thousand-Faced Maestro: Cameo!","å¹½å…°é»›å°”ï¼ˆæ¢­é•–ï¼‰":"Durandal (Javelin)","å¤©å…‰é©°å½»":"Reign Solaris"};$(".table-search").on("click",".select-item",()=>setTimeout(e,200)),$(".el-select-dropdown__item").on("click",()=>setTimeout(e,200)),e()}())'
          >
            Fix 3rd guide
          </a>
          ) link to your bookmark bar and click it when you're on the site! The script also
          translates all the bosses and valks (turn off Chrome auto-translation first). Many thanks
          for zkwp of Lumina for the script. For the latest version or if you use TamperMonkey, find
          the script at
          <a
            href="https://github.com/PaeP3nguin/honkai-guide/blob/master/src/assets/3rdguide.user.js"
          >
            Github
          </a>
          .
        </p>

        <v-layout align-center>
          <img class="valk-gif mr-2" :src="require('@/assets/aij2.gif')" />
          <span>Ai-chan says, "Only fill out as much as you need!"</span>
        </v-layout>

        <v-form>
          <h3 class="section-head">Boss</h3>
          <v-autocomplete
            v-model="selectedBoss"
            hint="Start typing to autocomplete."
            autofocus
            auto-select-first
            clearable
            persistent-hint
            :items="bosses"
          ></v-autocomplete>
          <v-checkbox v-model="sssBoss" label="SSS Boss? (Tip: Some MA videos will only show up when this is unchecked, so try both!)"></v-checkbox>

          <h3 class="section-head">Valkyries</h3>
          <p>
            Order matters! Choose the lead valk first. Some acronyms return a lot of results; add
            prefix * to filter for only acronyms (for example: *RS).  Add prefix with two ** for ELF or Astral Ops.
          </p>
          <v-autocomplete
            v-model="selectedValks"
            hint="Start typing to autocomplete."
            multiple
            auto-select-first
            clearable
            persistent-hint
            @change="valkInput = ''"
            :search-input.sync="valkInput"
            :items="valks"
          ></v-autocomplete>

          <h3 class="section-head">Modifiers</h3>
          <v-layout wrap>
            <v-flex grow xs4 md3 v-for="modifier in modifiers" v-bind:key="modifier.name">
              <v-checkbox v-model="modifier.value" :label="`${modifier.name}`"></v-checkbox>
            </v-flex>
          </v-layout>

          <h3 class="section-head">Score</h3>
          <v-combobox
            v-model="score"
            hint="All input accepted, or choose from the list."
            auto-select-first
            clearable
            persistent-hint
            :items="scores"
          ></v-combobox>
        </v-form>

        <h2 class="section-head">Generated links</h2>
        <v-layout align-center>
          <img class="valk-gif mr-2" :src="require('@/assets/brn.gif')" />
          <span>Bronya works hard to instantly generate links as you type.</span>
        </v-layout>
        <p>Some bosses/valks go by multiple names, so try all links!</p>
        <v-checkbox v-model="googleToggle" label="Swap to Google"></v-checkbox>
        <v-checkbox
          v-if="googleToggle"
          v-model="googleToggleBili"
          label="BiliÂ² from Google"
        ></v-checkbox>
        <p v-for="link in biliLinks" v-bind:key="link">
          <a target="_blank" class="bili-link" :href="`${link}`">{{ link }}</a>
        </p>

        <h2 class="section-head">Changelog</h2>
        <ul>
          <li>2025/08/21 - Added Litost EN name - Darius</li>
          <li>
            2025/07/17 - Added Coralie, Chenxue, Litost valk/op/boss (full EN names coming later),
            added Echoing and Extreme abyss weathers - Darius
          </li>
          <li>2025/05/29 - Added Sampo - Darius</li>
          <li>2025/05/08 - Added Planar Armament: Warped Spacetime Helia - Darius</li>
          <li>
            2025/03/22 - Added Blood Thorn Patch and Flux, added Lantern boss, added Peregrine Sword.
            Updated search terms prefixes (* and **) - Darius
          </li>
          <li>2025/02/03 - Add a bunch of translations for the 3rd guide website - ThatOneAmyFan</li>
          <li>
            2025/01/19 - Added SSS Sa boss, added Fiery Wishing Star (FWS), added Theresa Astral Op
            - Darius
          </li>
          <li>2024/12/25 - Updated name of new boss from New Kevin to Bygone Deliverance - Darius</li>
          <li>
            2024/12/07 - Added ignited modifier. Added DAFL for Senadina. Added Reign Solaris
            valkyrie and SSS/Abyss Kevin (will add Kevin's localized name later). Some acronyms
            return a lot of results, so all acronyms now have a * suffix, use this to quickly filter
            it down (e.g. RS* instead of RS) - Darius
          </li>
          <li>
            2024/11/15 - Added modifiers Stellar Crown and Starless. Added some boss nickanmes:
            bull, flower, and wolf. - Darius
          </li>
          <li>2024/10/26 - Added Vita boss and Sparkle valkyrie. - Darius</li>
          <li>
            2024/10/16 - Sorry for the delay, Sprout of Wishing has now been added. This completes
            the updates for v7.8. - Darius
          </li>
          <li>2024/09/05 - Added Lone Planetfarer/Vita. - Darius</li>
          <li>
            2024/08/12 - Removed some really old and no longer useful modifiers. Abyss weathers have
            been moved to the modifiers section. These will be useful for bosses with multiple
            weathers. More will be added later as needed. Added search term for "mobs", please use
            this if the Perilous stage is a mob stage. Added MHT-3C, the newest version of tank. -
            Darius
          </li>
          <li>2024/08/05 - Added Schicksal's Imperative Theresa and Valrahal boss - Darius</li>
          <li>
            2024/06/21 - To make finding mob boss stages easier, a few weathers have been added:
            Stellar (Astral Ring), Stardust, Symphony, and Bloodlust. These are all Senadina mob
            boss stages. Added Songque, Serapeum, and Meteoroid Fusion: Epernay. I wonder if they
            will ever fix the incorrect spelling in game: "Meteroid"? - Darius
          </li>
          <li>2024/05/05 - Added Mobius boss and Lantern. - Darius</li>
          <li>
            2024/03/21 - Added Beast of Sacrifice (Duonigue) and Raven bosses, added Thelema
            valkyrie. - Darius
          </li>
          <li>
            2024/03/01 - Added new search term for Flower boss, and added search terms for the
            Astral Ring weather SD mobs, Symphony weather SD mobs, and Stardust weather SD mobs.
            Added Helia and Coralie individual valks. 4.4 and after valkyries will now have
            battlesuit name, abbreviation, and character name, to make it easier for some players to
            find them. Example: Deepspace Anchor: First Light (FL, Senadina) 4.3 and below valkyries
            will also be updated to the same format, but in a future update. - Darius
          </li>
          <li>
            2024/02/05 - BIG UPDATE! Added Herrscher Trio, Senadina Trio, Senadina standalone, ELFs
            (Blade Durandal and newer only), and Collaborators. Helia and Coralie do not have
            standalone entries yet (not sure if they will). Also added Alien Guard's alternate name.
            V7.3 new bosses coming soon. Thanks Darius
          </li>
          <li>2024/01/15 - Added Fenghuang of Vicissitude, thanks Darius</li>
          <li>2023/11/26 - Added 7.1 boss EN name, Alien Guard - Supplement, thanks Darius</li>
          <li>
            2023/11/07 - Added abyss Flying Fish, v7.1 Cosmic Expression, v7.1 alien boss (EN name
            will be added later), updated SSS Heimdall CN search terms, thanks Darius
          </li>
          <li>2023/10/09 - Add Lunar Vow Crimson Love, thanks Darius</li>
          <li>2023/09/19 - Add Herrscher of Ice boss, thanks Darius</li>
          <!-- older changelog
            <li>2023/09/04 - Add Herrscher of Corruption Elysia, thanks Darius</li>
            <li>2023/08/26 - Add Miracle Magical Girl (Sirin), thanks Darius</li>
            <li>2023/08/05 - Update 6.8 boss name, thanks Darius</li>
            <li>
              2023/07/12 - Added beta 6.8 boss and Herrscher of Rebirth; english name for boss will be
              updated when GLB beta starts, thanks Darius
            </li>
            <li>2023/06/18 - Update 6.7 boss name, add Beta Test modifier, thanks Darius</li>
            <li>
              2023/06/18 - Remove future MA/Abyss lineups pages, as they're not updated anymore :(
            </li>
            <li>2023/05/22 - 6.6 and 6.7 valk and boss names added, thanks Darius</li>
            <li>2023/05/05 - Small valk name fixes, thanks Pootz</li>
            <li>
              2023/04/13 - Add VQ gear and search, add slime boss search, thanks Pootz, fragile, and
              Joshie
            </li>
            <li>2023/04/01 - Add Hoo and Hofi gear, thanks Pootz</li>
            <li>2023/03/10 - Add Kevin and Husk: Existentialism bosses, thanks fragile and Pootz</li>
            <li>2023/02/10 - Add HoO and HoFi, Echo PRI, HoTR gear, thanks Pootz</li>
            <li>2023/01/17 - Add Husk: Mysticism boss search term, thanks Gwent and Ryuu</li>
            <li>2023/01/10 - Bunch of new search terms and equipment, thanks Pootz and eyee</li>
            <li>2022/12/11 - Updated scoring for SSS bosses, thanks HauNguyenThe</li>
            <li>2022/11/25 - Add Opaque Shadow and Nocturnal Knight, thanks Cyxo</li>
            <li>2022/11/06 - Sus search term, gear, Willows stig, SoE key, thanks Pootz</li>
            <li>2022/10/03 - Add Vill-V, HoH equips, thanks Pootz</li>
            <li>
              2022/08/17 - Add Kosma boss, thanks Neal/Gwent, include Vill-V in valkyries, updated
              3rdguide bookmarklet
            </li>
            <li>2022/07/23 - Updated 3rdguide bookmarklet URL and search terms w/ new valks</li>
            <li>2022/07/21 - Add Seven Thunders PRI to calc, thanks Pootz</li>
            <li>2022/07/04 - Add Vill-V boss and Griseo valk ðŸ˜­, thanks TencentDimepiece</li>
            <li>2022/06/29 - Add option to use Google to search bilibili, thanks TencentDimepiece</li>
            <li>
              2022/05/26 - Add Aponia weapons, Handel and Zeno stigs, Echo of Paradise, thanks Pootz
            </li>
            <li>2022/05/17 - Add Sushang and Husk search terms, thanks HauNguyenThe</li>
            <li>2022/04/30 - Add Aponia and Eden search terms, thanks HauNguyenThe</li>
            <li>2022/04/30 - Add Felis search term, thanks Pootz</li>
            <li>2022/04/12 - Add Felis gear, thanks Pootz</li>
            <li>2022/04/04 - Add Q-Manifold modifier, thanks Reinbex</li>
            <li>2022/03/24 - Add Elysia to bosses</li>
            <li>2022/03/13 - Add Otto to bosses and no Paganini modifier, thanks Pootz</li>
            <li>2022/03/13 - Add Spina Astera gear to calc, thanks Pootz</li>
            <li>2022/02/25 - Add PE gear to calc, thanks Pootz</li>
            <li>2022/02/25 - Add Spina Astera to search and 3rdguide bookmark, thanks Toast</li>
            <li>2022/02/01 - Update HoD search translations, thanks Toast</li>
            <li>2022/02/01 - Add Palatinus Equinox to search and 3rdguide bookmark, thanks Pootz</li>
            <li>2022/01/24 - Add no Turg and no Zhenyi modifiers, thanks Pootz</li>
            <li>2022/01/19 - Add Silverwing equips to gear calc, thanks Pootz</li>
            <li>2022/01/19 - Add Silverwing to search and 3rdguide bookmarklet</li>
            <li>2021/12/12 - Add toggle for SSS boss</li>
            <li>2021/12/10 - Update 3rdguide bookmark with more abyss translations</li>
            <li>2021/11/18 - Add Paganini stig to calc, thanks Pootz</li>
            <li>2021/11/18 - Add Carole to search and 3rdguide bookmark</li>
            <li>2021/10/24 - Add mobisus and raven gear to calc, thanks Pootz</li>
            <li>2021/10/20 - Update 3rdguide bookmark with abyss translations</li>
            <li>2021/10/19 - Add Herrscher of Dominance boss</li>
            <li>2021/10/19 - Add Mobisus, Raven to searcher, 3rdguide bookmarklet</li>
            <li>2021/09/23 - Add SSS scores to scores page and search sidebar</li>
            <li>2021/09/20 - Add Elysia stigs, bow, and Abyss Flower PRI to calc, thanks Pootz</li>
            <li>2021/09/04 - Add Elysia valk, thanks Aria</li>
            <li>2021/08/29 - Add Poe and Acheron to gear calc, thanks Pootz</li>
            <li>2021/08/21 - Add Elysian Realm modifier, thanks Bento and Eku</li>
            <li>2021/08/18 - Add HoFS weapon and stigs to gear calc, thanks Pootz</li>
            <li>2021/08/17 - Update fix 3rdguide script with new translations and UI fixes</li>
            <li>2021/08/16 - Add HoFS abbreviation, thanks Jun</li>
            <li>2021/08/07 - Fix HoS translation, thanks Jun</li>
            <li>2021/07/25 - Add HoFS and MHT-3B (new tank), updated fix 3rdguide script</li>
            <li>2021/06/09 - Add Andrius boss and Fischl valk, update fix 3rdguide script</li>
            <li>2021/05/13 - Add Kasumi boss and Starchasm Nyx valk, update fix 3rdguide script</li>
            <li>2021/04/24 - Add Haxxor Bunny valk, HoS boss, update fix 3rdguide script</li>
            <li>2021/02/16 - Add Blazing Hope valk, update fix 3rdguide script</li>
            <li>2021/02/15 - Add HoS, thanks Idol Party discord!</li>
            <li>2021/01/01 - Happy new year! Add Couatl boss, thanks Charlie</li>
            <li>2020/12/16 - Add DA (thanks Echidna), update 3rd guide script, nicknames for HoV</li>
            <li>2020/12/16 - Add Rimestar boss, adjust Seele suit names, thanks Echidona</li>
            <li>2020/11/07 - Add FTD to fix 3rd guide script</li>
            <li>2020/11/07 - Add alternate name for FTD</li>
            <li>2020/09/22 - Add Fervent Tempo Delta valk</li>
            <li>2020/09/16 - Add Nihilus Husk boss</li>
            <li>2020/09/15 - Add Nirvana to modifiers</li>
            <li>2020/09/12 - Add DS to 3rd guide bookmarklet</li>
            <li>2020/09/04 - Add DS valk</li>
            <li>2020/08/30 - Add exalted abyss modifier</li>
            <li>2020/08/30 - Update Fix 3rd guide bookmarklet with Huodou and FR, add FR to valks</li>
            <li>2020/08/24 - Add Huodou boss</li>
            <li>2020/08/19 - Add SS lead skill as modifier, thanks Toast</li>
            <li>2020/08/19 - Add SS LE as modifier</li>
            <li>2020/08/19 - Add no Shuijing search modifier, thanks Younggeddes</li>
            <li>2020/08/06 - Add Masters MA to options</li>
            <li>2020/08/04 - Add new nickname for DJ, thanks Toast</li>
            <li>2020/07/28 - Update Fix 3rd guide bookmarklet with SA and HoT</li>
            <li>2020/06/08 - Add BKE, made some URL generation improvements.</li>
            <li>2020/06/02 - Add Starlit Astrologos (Zhuge) to valks</li>
            <li>2020/05/25 - Update fix 3rd guide bookmarklet</li>
            <li>2020/05/01 - Add death web + gigant abyss boss</li>
            <li>2020/05/02 - Add soul link abyss boss</li>
            <li>2020/04/24 - Add real name of S Durandal</li>
            <li>2020/04/20 - Add projected boss schedule</li>
            <li>2020/04/06 - Another nickname for Hephaestus</li>
            <li>2020/04/04 - Added double wendy abyss boss</li>
            <li>2020/04/01 - Added emperor abyss boss</li>
            <li>2020/03/31 - Added "S Durandal"</li>
            <li>2020/03/14 - Update fix 3rd guide bookmarklet and add VG</li>
            <li>2020/03/07 - Delet 3.6 boss pool</li>
            <li>2020/03/04 - Upgraded Fix 3rd guide bookmarklet</li>
            <li>2020/02/01 - Add Azure Empyrea</li>
            <li>2020/01/07 - Increase granularity of scores by time</li>
            <li>2020/01/06 - Added HF</li>
            <li>2019/12/15 - Actually we following CN bosses</li>
            <li>2019/12/01 - Added 3.6 boss pool to sidebar</li>
            <li>2019/10/22 - Added quantum ball name</li>
            <li>2019/10/22 - Added quantum ball and both Seeles</li>
            <li>2019/10/17 - Change scores by time to every 5 seconds due to EX MA...</li>
            <li>2019/10/12 - Make TP also autocomplete to VE</li>
            <li>2019/10/10 - Added Fix 3rd guide bookmarklet!</li>
            <li>2019/10/05 - Added AKA to valk list</li>
            <li>2019/09/21 - Added scores by time sidebar</li>
            <li>2019/09/03 - Added Roza</li>
            <li>2019/09/02 - Added EX MA</li>
            <li>2019/09/02 - Added MR-06X Hephaestus</li>
            <li>2019/08/19 - Added MHT-3 Pax</li>
            <li>2019/08/11 - Added AKA boss</li>
            <li>2019/08/10 - Added Void Drifter valk, Q-Singularis modifier</li>
          -->
        </ul>
      </v-flex>

      <v-flex hidden-sm-and-down offset-xs1 md-flex md2>
        <BossLineupList></BossLineupList>

        <h2 class="mt-6">Projected boss lineups</h2>
        <p>
          Our boss schedule seems to match CN's, offset by patch schedule. For example, week 1 of
          patch 3.8, CN had AKA, Hephaestus, Hellmaru. SEA/NA then had the same bosses on week 1 of
          patch 3.8.
        </p>

        <p class="mb-1" v-for="lineup in lineups" v-bind:key="lineup.id">
          {{ lineup.date | dateFormat("M/DD") }} -
          <template v-if="lineup.bosses">{{ lineup.bosses | lineupFormat }}</template>
          <template v-if="lineup.event">{{ lineup.event }}</template>
        </p>

        <h2 class="mt-6">Scores by time</h2>
        <ul>
          <li>time = ss / sss / up</li>
          <li v-for="s in scoresByTime" v-bind:key="s.score">
            {{ s.elapsedSec | countdownSeconds }} = {{ s.ssScore }} / {{ s.base }} / {{ s.up }}
          </li>
        </ul>
      </v-flex>
    </v-layout>
  </v-container>
</template>

<style lang="scss">
.section-head {
  margin-top: 1.8em;
}

.v-autocomplete {
  padding-top: 0px;
}

.bili-link {
  font-size: 1.5em;
}

.valk-gif {
  height: 80px;
}
</style>

<script lang="ts">
import Vue from "vue";
import { generateScores, countdownSecondsFilter } from "@/util/score_util";
import { RECENT_LINEUPS } from "@/data/boss_lineups";
import { Boss } from "@/models/boss";
import BossLineupList from "@/components/BossLineupList.vue";

const bossToChinese = {
  "Dominator of Wolves (Andrius, wolf)": ["å¥”ç‹¼çš„é¢†ä¸»", "å¥”ç‹¼", "åŒ—é£Žç‹¼"],
  Assaka: ["é˜¿æ¹¿æ³¢", "asb"],
  "Argent Knight: Artemis (AKA)": ["æœˆé­‚"],
  Benares: ["è´çº³å‹’æ–¯", "è´è´é¾™", "é¾™"],
  "Bright Knight - Excelsis (BKE)": ["æœˆé­„", "å¹½å…°æˆ´å°”"],
  "Couatl: Revenant": ["é‡å­å¸çŽ‹", "æ³¥é³…"],
  "Cursed Soul": ["å§¬å­", "è¢«è¯…å’’çš„è‹±é­‚"],
  "Dark Jixuanyuan (DXY, DJXY)": ["çš®çš®é©¬", "é©¬"], // "å§¬éºŸÂ·é»‘"],
  "Death Web + Gigant (Abyss only)": ["èœ˜è››æ³°å¦"],
  "Diabolic Kevin": ["å‡¯æ–‡", "å‡¯æ–‡ - å¡æ–¯å…°å¨œ"],
  Doom: ["æ²‰çµ", "æ¹®ç­æ²‰çµ"],
  "Double Wendy (all the way) (Abyss only)": ["åŒæ¸©è’‚"],
  Elysia: ["çˆ±èŽ‰å¸Œé›…", "çˆ±èŽ‰", "çˆ±"],
  "Emperor (Abyss only)": ["å¸çŽ‹"],
  "False God Otto Apocalypse (FGO)": ["ä¼ªç¥ž", "ä¼ªç¥žå¥¥æ‰˜", "å¥¥æ‰˜"],
  "Herrscher of the Void (God Kiana, GK, HoV)": ["ç©ºä¹‹å¾‹è€…", "å¥³çŽ‹"],
  Heimdall: ["æµ·å§†è¾¾å°”", "æµ·èƒ–", "èƒ–å¤§æµ·"],
  Hellmaru: ["ç‹ç‹¸", "ç»¯ç‹±ä¸¸"],
  "HoD Minion (HoD)": ["åƒå¾‹", "ä¹Œåˆä¹‹ä¼—"],
  "Herrscher of Sentience (HoS)": ["è¯†ä¹‹å¾‹è€…"],
  "HOMU (King, Emperor, Magician, Performer)": ["å¼å§†"],
  Huodou: ["ç¥¸æ–—"],
  "Husk: Existentialism (flower)": ["è™šæ•°èŠ±", "è™šæ ‘æ‘Šéª¸-å­˜åœ¨ä¸»ä¹‰"],
  "Husk: Mysticism (bull)": ["ç‰›ç‰›", "ç¥žç§˜ä¸»ä¹‰"],
  "Husk: Nihilius (clock)": ["è™šæ ‘ç¥žéª¸", "lzx"],
  "Jizo Mitama": ["åœ°è—", "åœ°è—å¾¡é­‚"],
  Kallen: ["å¡èŽ²"],
  Kalpas: ["åƒåŠ«", "æ°å“¥", "åŠ«å“¥", "åƒå¸ˆå‚…"],
  Kasumi: ["å…«é‡éœž"],
  Kosma: ["ç§‘æ–¯é­”"],
  "Li Sushang": ["æŽç´ è£³"],
  "Mexicatl: Umbreist (quantum ball)": ["çƒ", "é‡å­å†›å›¢"],
  "MHT-3 Pax (tank)": ["MHT", "å’Œå¹³ä½¿è€…", "å¦å…‹"],
  "MHT-3B Nirvana (new tank, also SSS tank)": ["MHT-3B", "å¤©å ‚ä½¿è€…", "å¦å…‹"],
  "MHT-3C Retaliator (no transition abyss tank)": ["MHT-3C", "æƒ©æˆ’ä½¿è€…", "å¦å…‹"],
  Mobs: ["ç¾¤èš"],
  "MR-06X Hephaestus": ["èµ«è²æ–¯æ‰˜æ–¯", "ç­ç«å™¨"],
  "Otto Apocalypse (Shield Otto)": ["ç›¾å¥¥æ‰˜", "å¥¥æ‰˜"],
  Padrino: ["æ•™çˆ¶"],
  Parvati: ["å†°çŒª", "å¸•å‡¡æ"],
  "Pishacha (Slime, Blob)": ["æ¯•èˆé®"],
  Rimestar: ["å†°å¾‹", "é™¨å†°ä¹‹å¾‹è€…"],
  "RPC-6626": ["é£žæœº", "RPC - 6626"],
  "Shadow Knight (SK)": ["æœˆè½®"],
  "Son of Darkness (Abyss only)": ["é»‘å¤œä¹‹å­"],
  "Titan + Hierophant (soul link mobs) (Abyss only)": ["å…³åº•", "åŒçµé­‚é“¾æŽ¥", "çº¢èŽ²æ³°å¦"],
  "Tonatiuh (lobster)": ["æ‰˜çº³æä¹Œ", "é¾™è™¾"],
  "Wendy + Ganesha (Abyss only)": ["çŒªæ¸©"],
  "Vill-V": ["ç»´å°”è–‡", "V2V"],
  "Opaque Shadow (quantum whale)": ["è”½å…‰ä¹‹å½±"],
  "Nocturnal Knight (blood thorn)": ["ç…Œå¤œéª‘å£«"],
  Aponia: ["é˜¿æ³¢å°¼äºš", "é˜¿æ³¢"],
  "Wardens of Tower (Black Wine of Theramenes, White Sword of Damocles)": ["å¡”ä¹‹é’³æ¢", "é»‘ç™½åŒç…ž"],
  "Cruising Tribunal": ["å·¡èˆªå®¡åˆ¤å›¢"],
  "Herrscher of Corruption (HoC, Elysia)": ["ä¾µèš€"],
  "Herrscher of Ice (HoI)": ["å†°å¾‹"],
  "Flying Fish: Patrol Force": ["é£žé±¼", "æ¸¸å¼‹é›†ç¾¤", "æ³¥é³…"],
  "Alien Guard - Supplement": ["æ˜Ÿå°˜æˆå«", "å¼‚æ˜Ÿè‚ƒå«"],
  "Meteoroid: Guaymas": ["ç“œä¼Šé©¬æ–¯", "æ˜Ÿå°˜é¾™è™¾"],
  "Beast of Sacrifice (Duonigue)": ["æ®‰æ­»ä¹‹å…½"],
  Raven: ["æ¸¡é¸¦"],
  Mobius: ["æ¢…æ¯”ä¹Œæ–¯"],
  "Meteoroid Fusion: Epernay": ["å¥ˆåŸƒå°”"],
  "Valrahal (Quantum Pig)": ["é‡å­çŒª", "ç“¦æ‹‰å“ˆ"],
  "Sprout of Wishing": ["æ„¿ä¹‹èŠ½"],
  "Vita: Sea's Depths": ["è–‡å¡”", "é‡å­è–‡å¡”"],
  "Bygone Deliverance (Kevin)": ["æˆ’ä¸–é—å…‰", "å‡¯æ–‡"],
  "Sa: Wheel of Transcendence": ["å¨‘"],
  Lantern: ["ç¯"],
  "Masked Fool Sampo": ["æ¡‘åš"],
  "Litost â€¢ Cinders of the Night": ["åˆ©æ‰˜æ–¯ç‰¹"],
};

const valkToChinese = {
  "White Comet (*WC, Kiana)": ["ç™½"],
  "Crimson Impulse (*CI, Mei)": ["ç»¯"],
  "Valkyrie Chariot (*VC, Bronya)": ["æˆ˜"],
  "Valkyrie Ranger (*VR, Kiana)": ["æ¸¸"],
  "Valkyrie Bladestrike (*VB, Mei)": ["å¼º"],
  "Yamabuki Armor (*YA, Bronya)": ["å±±"],
  "Divine Prayer (*DP, Kiana)": ["åœ£"],
  "Shadow Dash (*SD, Mei)": ["å½±"],
  "Snowy Sniper (*SS, Bronya)": ["é›ª"],
  "Knight Moonbeam (*KMB, Kiana)": ["æœˆ"],
  "Lightning Empress (*LE, Mei)": ["é¬¼"],
  "Dimension Breaker (*DB, Bronya)": ["æ¬¡"],
  "Battle Storm (*BS, Himeko)": ["ç–¾"],
  "Scarlet Fusion (*SF, Himeko)": ["æ·±"],
  "Valkyrie Triumph (*VT, Himeko)": ["å‡¯"],
  "Blood Rose (*BR, Himeko)": ["çŽ«"],
  "Gyakushinn Miko (Miko, Yae Sakura)": ["é€†"],
  "Goushinnso Memento (Meme, Yae Sakura)": ["å‹¿"],
  "Valkyrie Pledge (*VP, Theresa)": ["èª“"],
  "Violet Executor (*VE, Theresa)": ["ç´«"],
  "Sakuno Rondo (*SR, Theresa)": ["æ¨±"],
  "Wolf's Dawn (*WD, Bronya)": ["é“¶"],
  "Black Nucleus (*BN, Bronya)": ["é»‘"],
  "Flame Sakitama (*FS, Yae Sakura)": ["ç‚Ž"],
  "Celestial Hymn (*CH, Theresa)": ["ç¥ž"],
  "Valkyrie Accipiter (*VA, Fu Hua)": ["è¿…"],
  "Phoenix (*PX, Fu Hua)": ["ç‚½"],
  "Ritual Imayoh (*RI, Kallen)": ["ä»Š"],
  "Night Squire (*NS, Fu Hua)": ["ç™½"],
  "Sixth Serenade (*6S, Kallen)": ["å…­"],
  "Luna Kindred (*LK, Luna, Theresa)": ["æœˆ", "åˆ"],
  "Shadow Knight (*SK, Fu Hua)": ["è½®"],
  "Sundenjager (*SJ, Kallen)": ["åŽŸç½ª"],
  "Kreigsmesser (*KMS, Himeko)": ["æž"],
  "Herrscher of the Void (*GK, *HoV, *HV, God Kiana)": ["å¾‹"],
  "Umbral Rose (*UR, Rita)": ["é»¯"],
  "Vermillion Knight: Eclipse (*VKE, Himeko)": ["çœŸ"],
  "Striker Fulminata (*SF, Mei)": ["å¼ºè¢­"],
  "Phantom Iron (*PI, Rita)": ["ç‹—"],
  "Argent Knight: Artemis (*AKA, Rita)": ["æœˆé­‚"],
  "Drive Kometa (*DK, Bronya)": ["å±±"],
  "Blueberry Blitz (*BB, Liliya)": ["è“"],
  "Molotov Cherry (*MC, Rozaliya)": ["ç²‰", "å­¤å„¿é˜Ÿ"],
  "Swallowtail Phantasm (*SP, Seele)": ["å¹»æµ·æ¢¦è¶", "å¸Œ"],
  "Void Drifter (*VD, Kiana)": ["æ¸¸"],
  "Herrscher of Reason (*HoR, *HR, Bronya)": ["ç†", "å¾‹é¸­"],
  "Twilight Paladin (*TP, Theresa)": ["ç´«"],
  "Hawk of the Fog (*HF, Fu Hua)": ["è¿…", "è¿…é›·", "é›¾éƒ½è¿…ç¾½"],
  "Stygian Nymph (*SN, Seele)": ["é»‘å¸Œ", "å¸Œ"],
  "Darkbolt Jonin (*DJ, Yae Sakura)": ["å¤œéšé‡éœž", "é›·å…«"],
  "Azure Empyrea (*AE, Fu Hua)": ["äº‘", "å¢¨", "äº‘å¢¨ä¸¹å¿ƒ"],
  "Valkyrie Gloria (*VG, Durandal)": ["è£å…‰", "å¥³æ­¦ç¥žÂ·è£å…‰"],
  "Bright Knight: Excelsis (*BKE, Durandal)": ["æœˆé­„", "è¾‰éª‘å£«æœˆ"],
  "Starlit Astrologos (*SA, Kongming, Theresa)": ["æœ”å¤œè§‚æ˜Ÿ", "è§‚"],
  "Herrscher of Thunder (*HoT, *HT, Mei)": ["é›·", "é›·å¾‹", "é›·ä¹‹å¾‹è€…"],
  "Danzai Spectramancer (*DS, Mei)": ["å½±", "æ–­ç½ªå½±èˆž"],
  "Fallen Rosemary (*FR, Rita)": ["è¿·", "å¤±è½è¿·è¿­"],
  "Fervent Tempo Delta (*FTD, Rozaliya)": ["ç‹‚çƒ­è“è°ƒ", "ç²‰"],
  "Dea Anchora (*DA, Durandal)": ["æ˜Ÿ", "ä¸ç­æ˜Ÿé”š", "é”š"],
  "Blazing Hope (*BH, Asuka)": ["æ˜Žæ—¥é¦™"],
  "Herrscher of Sentience (*HoS, *HS, Fu Hua)": ["è¯†", "è¯†ä¹‹å¾‹è€…", "è¯†å¾‹"],
  "Haxxor Bunny (*HB, Bronya)": ["éª‡å…”", "è¿·åŸŽéª‡å…”"],
  "Starchasm Nyx (*Nyx, Veliona, Seele)": ["é­‡å¤œæ˜Ÿæ¸Š", "å†°å¸Œ"],
  "Prinzessin der Verurteilung! (*PV, Fischl)": ["çš‡", "å°è‰¾å’ª", "çš‡å¥³"],
  "Herrscher of Flamescion (*HoFs, *HFs, Kiana)": ["è–ª", "ç‚Ž", "è¤ç«è™«", "è–ªç‚Žä¹‹å¾‹è€…"],
  "Miss Pink Elf (*MPE, Elysia)": ["çˆ±èŽ‰å¸Œé›…", "çˆ±èŽ‰", "çˆ±"],
  "Infinite Ouroboros (*IO, Mobius, Kyoshiro's wife)": ["æ— é™Â·å™¬ç•Œä¹‹è›‡", "å™¬ç•Œ", "è›‡ä¸»"],
  "Midnight Absinthe (*MA, Raven)": ["åˆå¤œè‹¦è‰¾", "æ¸¡é¸¦"],
  "Sweet 'n' Spicy (*SnS, Carole)": ["å¡", "å¡èå°”", "ç”œè¾£å¥³å­©"],
  "Silverwing: N-EX (*SW, Bronya)": ["å¤§é¸­", "æ¬¡", "ç¿¼"],
  "Palatinus Equinox (*PE, Durandal)": ["å¤©", "å¤©å…ƒ", "å¤©å…ƒéª‘è‹±"],
  "Spina Astera (*SpA, Rita)": ["æ˜Ÿ", "æ˜Ÿæ£˜", "ç¼­ä¹±æ˜Ÿæ£˜"],
  "Reverist Calico (*RC, Pardofelis)": ["çŒ«"],
  "Disciplinary Perdition (*DP, *DiP, Aponia)": ["é˜¿", "é˜¿æ³¢å°¼äºš"],
  "Golden Diva (*GD, Eden)": ["ä¼Š", "ä¼Šç”¸"],
  "Starry Impression (*SI, Griseo)": ["æ ¼", "æ ¼è•¾ä¿®"],
  "Helical Contraption (*HC, Vill-V)": ["ç»´å°”è–‡", "V2V"],
  "Herrscher of Human: Ego (*HH, *HoH, *HoHE, Elysia)": ["äºº", "çˆ±çŒ«å…”", "çˆ±å¾‹"],
  "Jade Knight (*JK, Li Sushang)": ["æŽ", "æŽç´ è£³", "çŽ‰éª‘å£«æœˆç—•"],
  "Chrono Navi (*CN, Ai Hyperion)": ["çˆ±", "çˆ±è¡£"],
  "Herrscher of Truth (*HoTr, *HTr, Bronya)": ["çœŸç†", "çœŸ"],
  "Herrscher of Finality (*HoFi, *HFi, Kiana)": ["ç»ˆ"],
  "Herrscher of Origin (*HoO, *HO, Mei)": ["å§‹"],
  "Herrscher Trio (*HFi Kiana, *HO Mei, *HTr Bronya)": ["è™šä¸‰å®¶"],
  "Valkyrie Quicksand (*VQ, Susannah)": ["è‹", "è‹çŠå¨œ", "è‹èŽŽå¨œ", "çƒ­ç ‚", "å¥³æ­¦ç¥žãƒ»çƒ­ç ‚"],
  "Dreamweaver (*DW, Misteln, Hare)": ["ç¾½", "ç¾½å…”"],
  "Terminal Aide 0017 (*TA, Prometheus)": ["æ™®"],
  "Sugary Starburst (*SSt, *SSb, Shigure Kira)": ["æ—¶", "ç³–éœ²æ˜Ÿéœœ"],
  "Herrscher of Rebirth (*HoRb, *HRb, Seele)": ["å¸Œ", "æ­»ç”Ÿä¹‹å¾‹è€…"],
  "Miracle Magic Girl (*MMG, Sirin)": ["è¥¿", "è¥¿ç³"],
  "Lunar Vow: Crimson Love (*LV, Luna, Theresa)": ["æœˆ", "æœˆä¸‹"],
  "Cosmic Expression (*CE, Griseo)": ["æ ¼"],
  "Fenghuang of Vicissitude (*FV, *FoV, Fu Hua)": ["ç¬¦", "ç¬¦åŽ", "å´©è½ç¬¦åŽ"],
  "Deepspace Anchor: First Light (*FL, *DAFL, Senadina)": ["å¸Œ", "å¸Œå¨œ", "å¸Œå¨œè¿ªé›…"],
  "Valkyrie Boltstorm (*VBs, Helia)": ["èµ«"],
  "Valkyrie Blastmetal (*VBm, Coralie)": ["ç§‘"],
  "Senadina Trio/Mars Trio (*FL Senadina, *VBs Helia, *VBm Coralie)": ["æ˜Ÿä¸‰å®¶"],
  "Mad Pleasure: Shadowbringer (*MP, *MPS, Thelema)": ["ç‘Ÿ"],
  "Lone Destruction: Shadowchaser (*LD, *LDS, Lantern)": ["ç¯"],
  "Jovial Deception: Shadowdimmer (*JD, *JDS, Songque)": ["æ¾"],
  "Schicksal's Imperative (*SI, *SIm, Theresa)": ["å¾·"],
  "Lone Planetfarer (*LP, Vita)": ["è–‡"],
  "Thousand-Faced Maestro: Cameo! (*TFM, Sparkle)": ["èŠ±"],
  "Reign Solaris (*RS, Durandal)": ["é¹…"],
  "Ba-Dum! Fiery Wishing Star (*FWS, Kiana)": ["çª"],
  "Peregrine Sword (*PS, Li Sushang)": ["æŽ"],
  "Planar Armament: Warped Spacetime (*PA, *PAWS, *WS, Helia)": ["èµ«"],
  "Behold! Fate-Defying Dragon (*FDD, Coralie)": ["ç§‘"],
  // ELFs & Collaborators
  "Blade Durandal (**BD, **Dudu, ELF)": ["æ˜Ÿå¹½"],
  "Elf Elysia (**Ely, ELF)": ["æ˜Ÿçˆ±"],
  "Kiana Kaslana (**Kiana, ELF)": ["æ˜Ÿçª"],
  "Project Bunny (**PB, ELF)": ["æ˜Ÿå…”"],
  "Dreamseeker (**DS, Astral Op)": ["å¯»æ¢¦è€…"],
  "Songque (**Song, Astral Op)": ["æ¾é›€"],
  "Serapeum (**Sera, Astral Op)": ["ç‘Ÿæ‹‰"],
  "Theresa Apocalypse (**Teri, Astral Op)": ["å¾·"],
  "Chenxue (**Chen, Astral Op)": ["æ™¨é›ª"],
};

const modifiersToChinese = {
  // "F2P / No gacha Gear": ["é›¶è›‹"],
  // "2 - 3 pieces of gacha gear": ["ä½Žé…"],
  // "No JST": ["æ— å¶"],
  // "No Newton": ["æ— ç‰›"],
  // "No Paganini": ["æ— å¸•"],
  // "No Shuijing": ["æ— æ°´"],
  // "No Zhenyi": ["æ— è´žä»ª"],
  // "No Turgenev": ["æ— å± "],
  // "No ELFs": ["æ— äººå¶"],
  // "SS LE": ["SSé¬¼", "2Sé¬¼"],
  // "SS lead skill": ["SSé˜Ÿé•¿æŠ€", "2Sé˜Ÿé•¿æŠ€"],
  // Dirac: ["è¿ªæ‹‰å…‹", "ç‹„æ‹‰å…‹"],
  "Honkai Impact 3": ["å´©å3"],
  "Beta Test": ["æµ‹è¯•æœ"],
  "Sim battle": ["æ¨¡æ‹Ÿä½œæˆ˜å®¤"],
  "Elysian Realm": ["å¾€ä¸–ä¹åœŸ", "å¾€äº‹ä¹åœŸ"],
  "Memorial Arena": ["æˆ˜åœº"],
  "Masters": ["é«˜çº§åŒº"],
  "Exalted": ["ç»ˆæžåŒº"],
  "Q-Singularis": ["é‡å­å¥‡ç‚¹"],
  "Q-Manifold": ["é‡å­æµå½¢"],
  "Superstring Dimension": ["è¶…å¼¦ç©ºé—´"],
  "Red Lotus": ["çº¢èŽ²"],
  Nirvana: ["å¯‚ç­"],
  Myriad: ["æ— é™"],
  "1st Place": ["æ¦œä¸€"],
  "Blood Thorn Patch": ["æµè¡€"],
  Bloodlust: ["å—œæˆ˜"],
  Counter: ["å…‹åˆ¶"],
  Echoing: ["å…±é¸£"],
  "Extreme Conditions": ["å¤©è¡"],
  Flux: ["æµå˜"],
  Ignited: ["ç‚¹ç‡ƒ"],
  Lightning: ["é›·ä¼¤"],
  Physical: ["ç‰©ç†"],
  "Star Shadow": ["å½±æ˜Ÿ"],
  Stardust: ["æ˜Ÿå°˜"],
  Starless: ["æŽ©æ˜Ÿ"],
  Stellar: ["æ˜ŸçŽ¯"],
  "Stellar Crown": ["æ˜Ÿå†•"],
  Symphonic: ["äº¤å“"],
};

const modifiers = Object.keys(modifiersToChinese).map((m) => ({
  name: m,
  value: false,
}));

const scoresByTime = generateScores(45);

function isMobile(): boolean {
  return window.navigator.userAgent.toLowerCase().includes("mobi");
}

function* combine(arrOfArr: string[][]) {
  const [head, ...tail] = arrOfArr;
  const remainder = tail.length ? combine(tail) : [[]];
  for (const r of remainder) for (const h of head) yield [h, ...r];
}

export default Vue.extend({
  data: function () {
    return {
      selectedBoss: null,
      sssBoss: false,
      selectedValks: [],
      valkInput: null,
      score: null,
      bosses: Object.keys(bossToChinese),
      valks: Object.keys(valkToChinese),
      scores: scoresByTime.map((s) => s.ssScore),
      scoresByTime: scoresByTime,
      modifiers: modifiers,
      lineups: RECENT_LINEUPS,
      googleToggle: false,
      googleToggleBili: true,
    };
  },
  components: { BossLineupList },
  computed: {
    bossNames: function () {
      if (this.selectedBoss === null) {
        return [""];
      }

      if (this.sssBoss) {
        return bossToChinese[this.selectedBoss].map((bossName) => "SSS" + bossName);
      } else {
        return bossToChinese[this.selectedBoss];
      }
    },
    // Some valks have multiple names, make all combos of valk team.
    valkCombos: function () {
      let combos = [""];
      this.selectedValks
        .map((v) => valkToChinese[v])
        .forEach((names) => {
          combos = combos.reduce((acc, curr) => {
            names.forEach((n) => acc.push(curr + n));
            return acc;
          }, []);
        });
      return combos;
    },
    // Converts valk combinations to use the google OR search notation.
    valkCombosGoogle: function () {
      let combos = [];
      this.selectedValks
        .map((v) => valkToChinese[v])
        .forEach((names) => {
          combos.push(`(${names.join("|")})`);
        });
      return combos;
    },
    biliLinks: function () {
      // Static modifiers that go at the end.
      let modifierParams = this.modifiers
        .filter((m) => m.value)
        .map((m) => modifiersToChinese[m.name]);

      if (this.googleToggle) {
        // Google search queries don't need any combinations since they can use the OR operator, so separating this
        // logic out.
        return [
          "https://www.google.com/search?q=" +
            [
              this.selectedBoss ? `(${this.bossNames.join("|")})` : "",
              this.valkCombosGoogle.join(" "),
              modifierParams.length
                ? `(${modifierParams.map((params) => params.join("|")).join(" ")})`
                : "",
              this.score,
              this.googleToggleBili ? "site:https://www.bilibili.com" : "",
            ]
              // Remove empty strings and nulls to avoid extra spaces and weirdness in the output.
              .filter((n) => n)
              .join(" "),
        ];
      }

      if (this.score) {
        modifierParams.push([this.score]);
      }
      // Must have at least one element in each array passed to combine to generate anything.
      modifierParams = modifierParams.length ? modifierParams : [[""]];
      const modifierCombos = Array.from(combine(modifierParams)).map((c: string[]) =>
        c.join(" ").trim()
      );

      const baseUrl = isMobile()
        ? "https://m.bilibili.com/search?keyword="
        : "https://search.bilibili.com/all?keyword=";

      const combinations: string[][] = Array.from(
        combine([this.bossNames, this.valkCombos, modifierCombos])
      );
      return combinations
        .map((c: string[]) => `${baseUrl}${c.join(" ").trim()}`)
        .sort(function (a, b) {
          return a.length - b.length || a.localeCompare(b);
        });
    },
  },
  filters: {
    countdownSeconds: countdownSecondsFilter,
    lineupFormat: function (bosses: Boss[]) {
      return bosses.map((boss, index) => boss.shortName + (index == 0 ? " (up)" : "")).join(", ");
    },
  },
});
</script>
